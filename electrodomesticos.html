<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>Tecommers - Electrodomésticos</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&amp;display=swap" rel="stylesheet"/>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
</head>
<body class="body">
    <!-- ================= NAVBAR PRINCIPAL ================= -->
    <header class="header">
        <div class="header-container">
            <div class="logo-container">
                <svg class="logo-svg" viewBox="0 0 160 120">
                    <path d="M10 20H80L65 50H45L30 110H10L25 50H10V20Z" fill="#cf2e2e"/>
                    <path d="M50 55H78L75 73H47L50 55Z" fill="black"/>
                    <path d="M43 85H71L68 103H40L43 85Z" fill="#cf2e2e"/>
                </svg>
                <span class="logo-text">TECOMMERS</span>
            </div>

            <nav class="nav">
                <a href="homePage.html" class="nav-link">Home</a>
                <a href="category.html" class="nav-link active">Categorías</a>
                <a href="offer.html" class="nav-link">Ofertas</a>
                <a href="ourServices.html" class="nav-link">Servicios</a>
                <a href="our.html" class="nav-link">Nosotros</a>
                
            </nav>

            <div class="icon-container">
                <button class="icon-button">
                    <span class="material-symbols-outlined">shopping_cart</span>
                </button>
                <button class="icon-button">
                    <span class="material-symbols-outlined">person</span>
                </button>
            </div>
        </div>
    </header>
    <!-- ================= FIN NAVBAR ================= -->

    <!-- ================= CONTENIDO PRINCIPAL ================= -->
    <main class="offers-main">
        <div class="offers-header">
            <h1 class="offers-title">Electrodomésticos</h1>
            <p class="offers-subtitle">Tecnología y eficiencia para tu hogar</p>
            
            <!-- Barra de búsqueda principal mejorada -->
            <div class="offers-search-container">
                <div class="offers-search-box">
                    <span class="material-symbols-outlined offers-search-icon">search</span>
                    <input type="text" class="offers-search-input" 
                           placeholder="Buscar refrigeradores, lavadoras, cocinas, aires, marcas..." 
                           id="offers-search-input">
                    <button class="offers-search-button" id="offers-search-btn">
                        <span class="material-symbols-outlined">search</span>
                    </button>
                </div>
                
                <!-- Sugerencias de búsqueda rápida -->
                <div class="search-suggestions">
                    <span class="search-suggestion-label">Buscar rápido:</span>
                    <button class="search-suggestion" data-search="Refrigerador">Refrigerador</button>
                    <button class="search-suggestion" data-search="Lavadora">Lavadora</button>
                    <button class="search-suggestion" data-search="LG">LG</button>
                    <button class="search-suggestion" data-search="Samsung">Samsung</button>
                    <button class="search-suggestion" data-search="Aire Acondicionado">Aire Acondicionado</button>
                </div>
                
                <!-- Filtros rápidos -->
                <div class="offers-quick-filters">
                    <button class="quick-filter-btn active" data-filter="all">Todos</button>
                    <button class="quick-filter-btn" data-filter="kitchen">Cocina</button>
                    <button class="quick-filter-btn" data-filter="laundry">Lavandería</button>
                    <button class="quick-filter-btn" data-filter="climate">Climatización</button>
                    <button class="quick-filter-btn" data-filter="small">Pequeños</button>
                    <button class="quick-filter-btn" data-filter="smart">Inteligentes</button>
                    <button class="quick-filter-btn" data-filter="energy-a">A+++</button>
                    <button class="quick-filter-btn" data-filter="latest">Últimos modelos</button>
                </div>
            </div>
        </div>

        <!-- Información de resultados -->
        <div class="offers-results-info">
            <span class="offers-count" id="offers-count">8 electrodomésticos encontrados</span>
            <div class="offers-sort">
                <label for="offers-sort-select">Ordenar por:</label>
                <select class="offers-sort-select" id="offers-sort-select">
                    <option value="relevance">Relevancia</option>
                    <option value="price-asc">Precio: menor a mayor</option>
                    <option value="price-desc">Precio: mayor a menor</option>
                    <option value="efficiency">Eficiencia energética</option>
                    <option value="capacity">Capacidad</option>
                    <option value="newest">Más nuevos</option>
                    <option value="brand">Marca A-Z</option>
                </select>
            </div>
        </div>

        <!-- Grid de productos -->
        <div class="offers-grid" id="offers-grid">
            <!-- Producto 1: Refrigerador Side by Side -->
            <div class="product-card" data-category="kitchen smart latest" data-brand="LG" data-efficiency="A++" data-capacity="635L" data-model="2024">
                <div class="product-image-container">
                    <div class="product-discount">18% OFF</div>
                    <img class="product-image" 
                         src="https://images.unsplash.com/photo-1571175443880-49e1d25b2bc5?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" 
                         alt="Refrigerador Side by Side LG"/>
                </div>
                <div class="product-content">
                    <h3 class="product-name">Refrigerador LG Side by Side</h3>
                    <p class="product-description">Refrigerador inteligente 635L, energía A++, dispensador de agua y hielo, pantalla táctil, WiFi.</p>
                    <div class="product-specs">
                        <span class="product-spec"><span class="material-symbols-outlined">energy_savings_leaf</span> A++</span>
                        <span class="product-spec"><span class="material-symbols-outlined">water_drop</span> 635L</span>
                        <span class="product-spec"><span class="material-symbols-outlined">smartphone</span> SmartThinQ</span>
                        <span class="product-spec"><span class="material-symbols-outlined">icecream</span> Dispensador</span>
                    </div>
                    <div class="product-price-container">
                        <span class="product-old-price">$2,499.00</span>
                        <div class="product-price-wrapper">
                            <p class="product-price">$2,049.18</p>
                        </div>
                    </div>
                    <button class="product-button">Agregar al carrito</button>
                </div>
            </div>

            <!-- Producto 2: Lavadora Carga Frontal -->
            <div class="product-card" data-category="laundry energy-a latest" data-brand="Samsung" data-efficiency="A+++" data-capacity="18kg" data-model="2024">
                <div class="product-image-container">
                    <div class="product-discount">22% OFF</div>
                    <img class="product-image" 
                         src="./electrodomesticos imagenes/Lavadora Samsung 18kg.jpeg" 
                         alt="Lavadora Samsung Carga Frontal"/>
                </div>
                <div class="product-content">
                    <h3 class="product-name">Lavadora Samsung 18kg</h3>
                    <p class="product-description">Lavadora carga frontal 18kg, A+++, tecnología EcoBubble, motor Digital Inverter, control WiFi.</p>
                    <div class="product-specs">
                        <span class="product-spec"><span class="material-symbols-outlined">energy_savings_leaf</span> A+++</span>
                        <span class="product-spec"><span class="material-symbols-outlined">weight</span> 18kg</span>
                        <span class="product-spec"><span class="material-symbols-outlined">speed</span> 1400 RPM</span>
                        <span class="product-spec"><span class="material-symbols-outlined">wifi</span> WiFi Control</span>
                    </div>
                    <div class="product-price-container">
                        <span class="product-old-price">$899.00</span>
                        <div class="product-price-wrapper">
                            <p class="product-price">$701.22</p>
                        </div>
                    </div>
                    <button class="product-button">Agregar al carrito</button>
                </div>
            </div>

            <!-- Producto 3: Cocina de Inducción -->
            <div class="product-card" data-category="kitchen smart" data-brand="Mabe" data-efficiency="A" data-burners="5" data-model="2023">
                <div class="product-image-container">
                    <div class="product-discount">15% OFF</div>
                    <img class="product-image" 
                         src="./electrodomesticos imagenes/Cocina Inducción Mabe 5 quemadores.jpeg" 
                         alt="Cocina de Inducción Mabe"/>
                </div>
                <div class="product-content">
                    <h3 class="product-name">Cocina Inducción Mabe 5 quemadores</h3>
                    <p class="product-description">Cocina de inducción 5 quemadores, vidrio templado, temporizador digital, seguridad infantil.</p>
                    <div class="product-specs">
                        <span class="product-spec"><span class="material-symbols-outlined">fireplace</span> 5 quemadores</span>
                        <span class="product-spec"><span class="material-symbols-outlined">electric_bolt</span> Inducción</span>
                        <span class="product-spec"><span class="material-symbols-outlined">safety_divider</span> Seguridad</span>
                        <span class="product-spec"><span class="material-symbols-outlined">timer</span> Digital</span>
                    </div>
                    <div class="product-price-container">
                        <span class="product-old-price">$699.00</span>
                        <div class="product-price-wrapper">
                            <p class="product-price">$594.15</p>
                        </div>
                    </div>
                    <button class="product-button">Agregar al carrito</button>
                </div>
            </div>

            <!-- Producto 4: Aire Acondicionado Split -->
            <div class="product-card" data-category="climate energy-a latest" data-brand="Daikin" data-efficiency="A+++" data-btu="12000" data-model="2024">
                <div class="product-image-container">
                    <div class="product-discount">25% OFF</div>
                    <img class="product-image" 
                         src="./electrodomesticos imagenes/Aire Acondicionado Daikin 12,000 BTU.jpg" 
                         alt="Aire Acondicionado Split Daikin"/>
                </div>
                <div class="product-content">
                    <h3 class="product-name">Aire Acondicionado Daikin 12,000 BTU</h3>
                    <p class="product-description">Split inverter 12,000 BTU, A+++, tecnología Flash Streamer, modo silencioso, WiFi, timer 24h.</p>
                    <div class="product-specs">
                        <span class="product-spec"><span class="material-symbols-outlined">energy_savings_leaf</span> A+++</span>
                        <span class="product-spec"><span class="material-symbols-outlined">ac_unit</span> 12,000 BTU</span>
                        <span class="product-spec"><span class="material-symbols-outlined">wifi</span> WiFi Control</span>
                        <span class="product-spec"><span class="material-symbols-outlined">volume_off</span> Silencioso</span>
                    </div>
                    <div class="product-price-container">
                        <span class="product-old-price">$849.00</span>
                        <div class="product-price-wrapper">
                            <p class="product-price">$636.75</p>
                        </div>
                    </div>
                    <button class="product-button">Agregar al carrito</button>
                </div>
            </div>

            <!-- Producto 5: Microondas Grill -->
            <div class="product-card" data-category="kitchen small" data-brand="Panasonic" data-capacity="32L" data-power="1100W" data-model="2023">
                <div class="product-image-container">
                    <div class="product-discount">12% OFF</div>
                    <img class="product-image" 
                         src="./electrodomesticos imagenes/Microondas Panasonic Grill 32.jpeg" 
                         alt="Microondas Grill Panasonic"/>
                </div>
                <div class="product-content">
                    <h3 class="product-name">Microondas Panasonic Grill 32L</h3>
                    <p class="product-description">Microondas con grill 32L, 1100W, 37 programas automáticos, panel de control táctil, descongelar.</p>
                    <div class="product-specs">
                        <span class="product-spec"><span class="material-symbols-outlined">microwave</span> 1100W</span>
                        <span class="product-spec"><span class="material-symbols-outlined">straighten</span> 32L</span>
                        <span class="product-spec"><span class="material-symbols-outlined">local_fire_department</span> Grill</span>
                        <span class="product-spec"><span class="material-symbols-outlined">touch_app</span> Táctil</span>
                    </div>
                    <div class="product-price-container">
                        <span class="product-old-price">$199.00</span>
                        <div class="product-price-wrapper">
                            <p class="product-price">$175.12</p>
                        </div>
                    </div>
                    <button class="product-button">Agregar al carrito</button>
                </div>
            </div>

            <!-- Producto 6: Secadora de Ropa -->
            <div class="product-card" data-category="laundry smart" data-brand="Whirlpool" data-capacity="9kg" data-efficiency="A++" data-model="2023">
                <div class="product-image-container">
                    <div class="product-discount">20% OFF</div>
                    <img class="product-image" 
                         src="./electrodomesticos imagenes/Secadora Whirlpool 9kg.jpeg" 
                         alt="Secadora de Ropa Whirlpool"/>
                </div>
                <div class="product-content">
                    <h3 class="product-name">Secadora Whirlpool 9kg</h3>
                    <p class="product-description">Secadora de condensación 9kg, A++, sensor de humedad, 15 programas, filtro autoclean, temporizador.</p>
                    <div class="product-specs">
                        <span class="product-spec"><span class="material-symbols-outlined">energy_savings_leaf</span> A++</span>
                        <span class="product-spec"><span class="material-symbols-outlined">weight</span> 9kg</span>
                        <span class="product-spec"><span class="material-symbols-outlined">sensors</span> Sensor humedad</span>
                        <span class="product-spec"><span class="material-symbols-outlined">cleaning_services</span> AutoClean</span>
                    </div>
                    <div class="product-price-container">
                        <span class="product-old-price">$749.00</span>
                        <div class="product-price-wrapper">
                            <p class="product-price">$599.20</p>
                        </div>
                    </div>
                    <button class="product-button">Agregar al carrito</button>
                </div>
            </div>

            <!-- Producto 7: Robot Aspirador -->
            <div class="product-card" data-category="small smart latest" data-brand="iRobot" data-type="robot" data-smart="true" data-model="2024">
                <div class="product-image-container">
                    <div class="product-discount">30% OFF</div>
                    <img class="product-image" 
                         src="./electrodomesticos imagenes/Robot Aspirador iRobot Ro.jpeg" 
                         alt="Robot Aspirador iRobot"/>
                </div>
                <div class="product-content">
                    <h3 class="product-name">Robot Aspirador iRobot Roomba</h3>
                    <p class="product-description">Robot aspirador inteligente, mapeo láser, control por app, auto recarga, para mascotas, cámara.</p>
                    <div class="product-specs">
                        <span class="product-spec"><span class="material-symbols-outlined">smart_toy</span> Inteligente</span>
                        <span class="product-spec"><span class="material-symbols-outlined">radar</span> Mapeo láser</span>
                        <span class="product-spec"><span class="material-symbols-outlined">app_registration</span> App Control</span>
                        <span class="product-spec"><span class="material-symbols-outlined">pets</span> Para mascotas</span>
                    </div>
                    <div class="product-price-container">
                        <span class="product-old-price">$599.00</span>
                        <div class="product-price-wrapper">
                            <p class="product-price">$419.30</p>
                        </div>
                    </div>
                    <button class="product-button">Agregar al carrito</button>
                </div>
            </div>

            <!-- Producto 8: Purificador de Aire -->
            <div class="product-card" data-category="small smart climate" data-brand="Xiaomi" data-area="48m²" data-filters="4" data-model="2023">
                <div class="product-image-container">
                    <div class="product-discount">18% OFF</div>
                    <img class="product-image" 
                         src="./electrodomesticos imagenes/Purificador de Aire Xiaomi Pr.jpeg" 
                         alt="Purificador de Aire Xiaomi"/>
                </div>
                <div class="product-content">
                    <h3 class="product-name">Purificador de Aire Xiaomi Pro</h3>
                    <p class="product-description">Purificador de aire 48m², 4 filtros HEPA, control por app, sensor de calidad de aire, modo noche.</p>
                    <div class="product-specs">
                        <span class="product-spec"><span class="material-symbols-outlined">air</span> 48m²</span>
                        <span class="product-spec"><span class="material-symbols-outlined">filter_alt</span> 4 filtros</span>
                        <span class="product-spec"><span class="material-symbols-outlined">monitor_heart</span> Sensor calidad</span>
                        <span class="product-spec"><span class="material-symbols-outlined">dark_mode</span> Modo noche</span>
                    </div>
                    <div class="product-price-container">
                        <span class="product-old-price">$299.00</span>
                        <div class="product-price-wrapper">
                            <p class="product-price">$245.18</p>
                        </div>
                    </div>
                    <button class="product-button">Agregar al carrito</button>
                </div>
            </div>
        </div>

        <!-- Mensaje cuando no hay resultados -->
        <div class="no-offers-results" id="no-offers-results" style="display: none;">
            <div class="no-results-content">
                <span class="material-symbols-outlined">kitchen</span>
                <h3>No se encontraron electrodomésticos</h3>
                <p>Intenta con otros términos de búsqueda o ajusta los filtros</p>
                <button class="clear-search-btn" id="clear-offers-search">Mostrar todos</button>
            </div>
        </div>

        <div class="offers-catalog-button-container">
            <button class="offers-catalog-button">
                Ver más electrodomésticos
            </button>
        </div>
    </main>

    <!-- ================= FOOTER ================= -->
    <footer class="offers-footer">
        <div class="offers-footer-content">
            <div class="offers-footer-section">
                <div class="offers-footer-logo">
                    <div class="offers-logo-graphic">
                        <div class="logo-red-bar"></div>
                        <div class="logo-black-bar"></div>
                        <div class="logo-red-bar-bottom"></div>
                        <div class="logo-red-vertical"></div>
                    </div>
                    <span class="offers-footer-logo-text">TECOMMERS</span>
                </div>
                <p class="offers-footer-description">
                    Electrodomésticos inteligentes para un hogar eficiente. Tecnología que simplifica tu vida.
                </p>
            </div>
            <div class="offers-footer-section">
                <h4 class="offers-footer-heading">Categorías</h4>
                <ul class="offers-footer-links">
                    <li><a class="offers-footer-link" href="#" data-filter="kitchen">Cocina</a></li>
                    <li><a class="offers-footer-link" href="#" data-filter="laundry">Lavandería</a></li>
                    <li><a class="offers-footer-link" href="#" data-filter="climate">Climatización</a></li>
                    <li><a class="offers-footer-link" href="#" data-filter="small">Pequeños</a></li>
                    <li><a class="offers-footer-link" href="#" data-filter="smart">Inteligentes</a></li>
                    <li><a class="offers-footer-link" href="#" data-filter="energy-a">Eficiencia A+++</a></li>
                </ul>
            </div>
            <div class="offers-footer-section">
                <h4 class="offers-footer-heading">Marcas</h4>
                <ul class="offers-footer-links">
                    <li><a class="offers-footer-link" href="#">LG</a></li>
                    <li><a class="offers-footer-link" href="#">Samsung</a></li>
                    <li><a class="offers-footer-link" href="#">Mabe</a></li>
                    <li><a class="offers-footer-link" href="#">Daikin</a></li>
                    <li><a class="offers-footer-link" href="#">Whirlpool</a></li>
                    <li><a class="offers-footer-link" href="#">Xiaomi</a></li>
                    <li><a class="offers-footer-link" href="#">Panasonic</a></li>
                    <li><a class="offers-footer-link" href="#">iRobot</a></li>
                </ul>
            </div>
            <div class="offers-footer-section">
                <h4 class="offers-footer-heading">Servicios</h4>
                <p class="offers-footer-description" style="font-size: 0.875rem; margin-bottom: 1rem;">
                    Instalación profesional, garantía extendida y soporte técnico especializado.
                </p>
                <div class="newsletter-box">
                    <input class="newsletter-input" placeholder="Email para ofertas" type="email"/>
                    <button class="newsletter-submit">SUSCRIBIR</button>
                </div>
            </div>
        </div>
        <div class="offers-footer-bottom">
            <p class="offers-footer-copyright">© 2024 Tecommers Electrodomésticos. Garantía y servicio incluidos.</p>
            <div class="offers-footer-bottom-links">
                <a class="offers-footer-bottom-link" href="#">Instalación</a>
                <a class="offers-footer-bottom-link" href="#">Garantías</a>
                <a class="offers-footer-bottom-link" href="#">Financiamiento</a>
                <a class="offers-footer-bottom-link" href="#">Retiro viejo</a>
            </div>
        </div>
    </footer>

    <!-- Script de búsqueda mejorado -->
    <script>
        class AppliancesSearchSystem {
            constructor() {
                this.searchInput = document.getElementById('offers-search-input');
                this.searchButton = document.getElementById('offers-search-btn');
                this.offersGrid = document.getElementById('offers-grid');
                this.offersCount = document.getElementById('offers-count');
                this.noResults = document.getElementById('no-offers-results');
                this.clearButton = document.getElementById('clear-offers-search');
                this.sortSelect = document.getElementById('offers-sort-select');
                this.productCards = [];
                this.currentFilter = 'all';
                this.currentSort = 'relevance';
                
                this.brands = ['LG', 'Samsung', 'Mabe', 'Daikin', 'Panasonic', 'Whirlpool', 'iRobot', 'Xiaomi'];
                this.efficiencyRatings = ['A', 'A+', 'A++', 'A+++'];
                
                this.init();
            }
            
            init() {
                this.productCards = Array.from(this.offersGrid.querySelectorAll('.product-card'));
                this.originalOrder = [...this.productCards];
                
                this.setupEventListeners();
                this.updateCount();
                this.setupFooterLinks();
                this.setupEfficiencyFilters();
                this.setupSearchSuggestions();
                
                // Enfocar el buscador principal al cargar
                setTimeout(() => {
                    this.searchInput.focus();
                }, 500);
            }
            
            setupEventListeners() {
                // Búsqueda en tiempo real con debounce
                this.searchInput.addEventListener('input', this.debounce(() => {
                    this.filterProducts();
                }, 300));
                
                this.searchButton.addEventListener('click', () => {
                    this.filterProducts();
                    this.showSearchFeedback();
                });
                
                this.searchInput.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        this.filterProducts();
                        this.showSearchFeedback();
                    }
                });
                
                document.querySelectorAll('.quick-filter-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        document.querySelectorAll('.quick-filter-btn').forEach(b => {
                            b.classList.remove('active');
                        });
                        
                        e.target.classList.add('active');
                        this.currentFilter = e.target.dataset.filter;
                        this.filterProducts();
                        
                        // Mostrar info especial para algunos filtros
                        if (e.target.dataset.filter === 'energy-a') {
                            this.showEfficiencyInfo();
                        }
                        if (e.target.dataset.filter === 'latest') {
                            this.showLatestInfo();
                        }
                    });
                });
                
                this.sortSelect.addEventListener('change', (e) => {
                    this.currentSort = e.target.value;
                    this.sortProducts();
                });
                
                this.clearButton.addEventListener('click', () => {
                    this.clearSearch();
                });
                
                // Eventos para botones de compra
                document.querySelectorAll('.product-button').forEach(button => {
                    button.addEventListener('click', function() {
                        const productCard = this.closest('.product-card');
                        const productName = productCard.querySelector('.product-name').textContent;
                        const productBrand = productCard.getAttribute('data-brand');
                        
                        this.showCartNotification(productName, productBrand);
                        
                        // Actualizar contador de carrito
                        this.updateCartCounter();
                    }.bind(this));
                });
            }
            
            setupSearchSuggestions() {
                document.querySelectorAll('.search-suggestion').forEach(button => {
                    button.addEventListener('click', (e) => {
                        const searchTerm = e.target.dataset.search;
                        this.searchInput.value = searchTerm;
                        this.filterProducts();
                        this.showSearchFeedback();
                        this.searchInput.focus();
                    });
                });
            }
            
            setupFooterLinks() {
                // Enlaces de categorías
                document.querySelectorAll('.offers-footer-link[data-filter]').forEach(link => {
                    link.addEventListener('click', (e) => {
                        e.preventDefault();
                        const filter = e.target.dataset.filter;
                        
                        // Activar el filtro correspondiente
                        document.querySelectorAll('.quick-filter-btn').forEach(btn => {
                            btn.classList.remove('active');
                            if (btn.dataset.filter === filter) {
                                btn.classList.add('active');
                            }
                        });
                        
                        this.currentFilter = filter;
                        this.filterProducts();
                        
                        // Scroll al inicio de los productos
                        document.querySelector('.offers-results-info').scrollIntoView({
                            behavior: 'smooth'
                        });
                    });
                });
                
                // Enlaces de marcas
                document.querySelectorAll('.offers-footer-link:not([data-filter])').forEach(link => {
                    link.addEventListener('click', (e) => {
                        e.preventDefault();
                        const brandText = e.target.textContent;
                        
                        // Establecer búsqueda por marca
                        this.searchInput.value = brandText;
                        this.filterProducts();
                        this.showSearchFeedback();
                        
                        // Scroll al buscador
                        this.searchInput.scrollIntoView({
                            behavior: 'smooth',
                            block: 'center'
                        });
                        this.searchInput.focus();
                    });
                });
            }
            
            setupEfficiencyFilters() {
                // Agregar información sobre eficiencia
                const efficiencyFilter = document.querySelector('.quick-filter-btn[data-filter="energy-a"]');
                if (efficiencyFilter) {
                    efficiencyFilter.addEventListener('click', () => {
                        this.showEfficiencyInfo();
                    });
                }
            }
            
            filterProducts() {
                const searchTerm = this.searchInput.value.toLowerCase().trim();
                
                this.productCards.forEach(card => {
                    const productName = card.querySelector('.product-name').textContent.toLowerCase();
                    const productDesc = card.querySelector('.product-description').textContent.toLowerCase();
                    const productCategories = card.getAttribute('data-category').split(' ');
                    const productBrand = card.getAttribute('data-brand').toLowerCase();
                    const productEfficiency = card.getAttribute('data-efficiency')?.toLowerCase() || '';
                    const productCapacity = card.getAttribute('data-capacity')?.toLowerCase() || '';
                    const productModel = card.getAttribute('data-model')?.toLowerCase() || '';
                    
                    let matchesSearch = true;
                    let matchesFilter = true;
                    
                    // Búsqueda por texto
                    if (searchTerm) {
                        matchesSearch = productName.includes(searchTerm) || 
                                        productDesc.includes(searchTerm) ||
                                        productBrand.includes(searchTerm) ||
                                        productEfficiency.includes(searchTerm) ||
                                        productCapacity.includes(searchTerm) ||
                                        productModel.includes(searchTerm);
                        
                        this.highlightMatches(card, searchTerm);
                    } else {
                        this.removeHighlights(card);
                    }
                    
                    // Filtro por categoría
                    if (this.currentFilter !== 'all') {
                        if (this.currentFilter === 'energy-a') {
                            matchesFilter = productEfficiency && productEfficiency.includes('a++');
                        } else if (this.currentFilter === 'latest') {
                            matchesFilter = productModel === '2024';
                        } else {
                            matchesFilter = productCategories.includes(this.currentFilter);
                        }
                    }
                    
                    card.style.display = (matchesSearch && matchesFilter) ? 'flex' : 'none';
                });
                
                this.sortProducts();
                this.updateCount();
                
                if (searchTerm) {
                    this.showSearchNotification(searchTerm);
                }
            }
            
            sortProducts() {
                const visibleCards = this.productCards.filter(card => 
                    card.style.display !== 'none'
                );
                
                if (visibleCards.length === 0) return;
                
                visibleCards.sort((a, b) => {
                    const aName = a.querySelector('.product-name').textContent;
                    const bName = b.querySelector('.product-name').textContent;
                    const aPrice = this.parsePrice(a.querySelector('.product-price').textContent);
                    const bPrice = this.parsePrice(b.querySelector('.product-price').textContent);
                    const aBrand = a.getAttribute('data-brand');
                    const bBrand = b.getAttribute('data-brand');
                    const aEfficiency = this.getEfficiencyValue(a.getAttribute('data-efficiency'));
                    const bEfficiency = this.getEfficiencyValue(b.getAttribute('data-efficiency'));
                    const aCapacity = this.parseCapacity(a.getAttribute('data-capacity'));
                    const bCapacity = this.parseCapacity(b.getAttribute('data-capacity'));
                    const aModel = a.getAttribute('data-model') || '0';
                    const bModel = b.getAttribute('data-model') || '0';
                    
                    switch(this.currentSort) {
                        case 'price-asc':
                            return aPrice - bPrice;
                        case 'price-desc':
                            return bPrice - aPrice;
                        case 'efficiency':
                            return bEfficiency - aEfficiency;
                        case 'capacity':
                            return bCapacity - aCapacity;
                        case 'newest':
                            return bModel - aModel; // Los modelos más nuevos primero
                        case 'brand':
                            return aBrand.localeCompare(bBrand);
                        case 'relevance':
                        default:
                            const searchTerm = this.searchInput.value.toLowerCase();
                            if (searchTerm) {
                                const aNameMatch = aName.toLowerCase().includes(searchTerm);
                                const bNameMatch = bName.toLowerCase().includes(searchTerm);
                                if (aNameMatch && !bNameMatch) return -1;
                                if (!aNameMatch && bNameMatch) return 1;
                                return bEfficiency - aEfficiency;
                            }
                            return bEfficiency - aEfficiency;
                    }
                });
                
                visibleCards.forEach(card => {
                    this.offersGrid.appendChild(card);
                });
            }
            
            getEfficiencyValue(efficiency) {
                if (!efficiency) return 0;
                const values = {'A': 1, 'A+': 2, 'A++': 3, 'A+++': 4};
                return values[efficiency] || 0;
            }
            
            parseCapacity(capacity) {
                if (!capacity) return 0;
                // Convertir "18kg" o "635L" a número
                const match = capacity.match(/(\d+\.?\d*)/);
                return match ? parseFloat(match[1]) : 0;
            }
            
            highlightMatches(card, searchTerm) {
                const nameElement = card.querySelector('.product-name');
                const descElement = card.querySelector('.product-description');
                
                const originalName = nameElement.textContent;
                const originalDesc = descElement.textContent;
                
                const highlightedName = this.highlightText(originalName, searchTerm);
                const highlightedDesc = this.highlightText(originalDesc, searchTerm);
                
                nameElement.innerHTML = highlightedName;
                descElement.innerHTML = highlightedDesc;
            }
            
            removeHighlights(card) {
                const nameElement = card.querySelector('.product-name');
                const descElement = card.querySelector('.product-description');
                
                nameElement.innerHTML = nameElement.textContent;
                descElement.innerHTML = descElement.textContent;
            }
            
            highlightText(text, searchTerm) {
                if (!searchTerm) return text;
                
                const regex = new RegExp(`(${searchTerm})`, 'gi');
                return text.replace(regex, '<mark>$1</mark>');
            }
            
            parsePrice(priceText) {
                return parseFloat(priceText.replace('$', '').replace(',', ''));
            }
            
            updateCount() {
                const visibleCount = this.productCards.filter(card => 
                    card.style.display !== 'none'
                ).length;
                
                const totalCount = this.productCards.length;
                
                this.offersCount.textContent = `${visibleCount} electrodoméstico${visibleCount !== 1 ? 's' : ''} de ${totalCount}`;
                
                if (visibleCount === 0) {
                    this.noResults.style.display = 'block';
                } else {
                    this.noResults.style.display = 'none';
                }
            }
            
            clearSearch() {
                this.searchInput.value = '';
                
                document.querySelectorAll('.quick-filter-btn').forEach(btn => {
                    if (btn.dataset.filter === 'all') {
                        btn.classList.add('active');
                    } else {
                        btn.classList.remove('active');
                    }
                });
                
                this.sortSelect.value = 'relevance';
                
                this.currentFilter = 'all';
                this.currentSort = 'relevance';
                
                this.productCards.forEach(card => {
                    this.removeHighlights(card);
                });
                
                this.productCards.forEach(card => {
                    card.style.display = 'flex';
                });
                
                this.originalOrder.forEach(card => {
                    this.offersGrid.appendChild(card);
                });
                
                this.updateCount();
                this.searchInput.focus();
            }
            
            showSearchNotification(searchTerm) {
                let notification = document.querySelector('.search-notification');
                
                if (!notification) {
                    notification = document.createElement('div');
                    notification.className = 'search-notification';
                    document.body.appendChild(notification);
                    
                    setTimeout(() => {
                        if (notification.parentNode) {
                            notification.parentNode.removeChild(notification);
                        }
                    }, 3000);
                }
                
                const visibleCount = this.productCards.filter(card => 
                    card.style.display !== 'none'
                ).length;
                
                notification.innerHTML = `
                    <span class="material-symbols-outlined">search</span>
                    <span>${visibleCount} electrodoméstico${visibleCount !== 1 ? 's' : ''} para "${searchTerm}"</span>
                `;
                
                notification.classList.add('show');
            }
            
            showSearchFeedback() {
                // Efecto visual en el buscador
                const searchBox = document.querySelector('.offers-search-box');
                searchBox.style.transform = 'scale(1.02)';
                searchBox.style.boxShadow = '0 0 0 3px rgba(207, 46, 46, 0.3)';
                
                setTimeout(() => {
                    searchBox.style.transform = '';
                    searchBox.style.boxShadow = '';
                }, 300);
            }
            
            showEfficiencyInfo() {
                const info = document.createElement('div');
                info.className = 'efficiency-info';
                info.innerHTML = `
                    <div class="efficiency-content">
                        <span class="material-symbols-outlined">info</span>
                        <h4>Eficiencia Energética A+++</h4>
                        <p>Los electrodomésticos con clasificación A+++ consumen hasta un 60% menos de energía que los de clase A, reduciendo significativamente tu factura eléctrica.</p>
                        <div class="efficiency-features">
                            <div class="efficiency-feature">
                                <span class="material-symbols-outlined">savings</span>
                                <span>Ahorro hasta 60%</span>
                            </div>
                            <div class="efficiency-feature">
                                <span class="material-symbols-outlined">recycling</span>
                                <span>Ecológico</span>
                            </div>
                            <div class="efficiency-feature">
                                <span class="material-symbols-outlined">verified</span>
                                <span>Certificación UE</span>
                            </div>
                        </div>
                        <button class="close-efficiency">Entendido</button>
                    </div>
                `;
                
                document.body.appendChild(info);
                
                setTimeout(() => {
                    info.classList.add('show');
                }, 100);
                
                info.querySelector('.close-efficiency').addEventListener('click', () => {
                    info.classList.remove('show');
                    setTimeout(() => {
                        if (info.parentNode) {
                            info.parentNode.removeChild(info);
                        }
                    }, 300);
                });
            }
            
            showLatestInfo() {
                const info = document.createElement('div');
                info.className = 'latest-info';
                info.innerHTML = `
                    <div class="latest-content">
                        <span class="material-symbols-outlined">new_releases</span>
                        <h4>Últimos Modelos 2024</h4>
                        <p>Electrodomésticos con la tecnología más avanzada, diseño innovador y las mejores características del mercado.</p>
                        <div class="latest-features">
                            <div class="latest-feature">
                                <span class="material-symbols-outlined">wifi</span>
                                <span>Conectividad IoT</span>
                            </div>
                            <div class="latest-feature">
                                <span class="material-symbols-outlined">auto_awesome</span>
                                <span>Inteligencia Artificial</span>
                            </div>
                            <div class="latest-feature">
                                <span class="material-symbols-outlined">design_services</span>
                                <span>Diseño Premium</span>
                            </div>
                        </div>
                        <button class="close-latest">Ver novedades</button>
                    </div>
                `;
                
                document.body.appendChild(info);
                
                setTimeout(() => {
                    info.classList.add('show');
                }, 100);
                
                info.querySelector('.close-latest').addEventListener('click', () => {
                    info.classList.remove('show');
                    setTimeout(() => {
                        if (info.parentNode) {
                            info.parentNode.removeChild(info);
                        }
                    }, 300);
                });
            }
            
            showCartNotification(productName, brand) {
                const notification = document.createElement('div');
                notification.className = 'cart-notification';
                notification.innerHTML = `
                    <span class="material-symbols-outlined">check_circle</span>
                    <div>
                        <strong>¡Agregado al carrito!</strong>
                        <p>${productName}</p>
                        <small>Marca: ${brand} • Incluye instalación profesional</small>
                    </div>
                `;
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    notification.classList.add('show');
                    setTimeout(() => {
                        notification.classList.remove('show');
                        setTimeout(() => {
                            if (notification.parentNode) {
                                notification.parentNode.removeChild(notification);
                            }
                        }, 300);
                    }, 3000);
                }, 100);
            }
            
            updateCartCounter() {
                const cartButton = document.querySelector('.icon-button:first-child');
                let counter = cartButton.querySelector('.cart-counter');
                
                if (!counter) {
                    counter = document.createElement('span');
                    counter.className = 'cart-counter';
                    cartButton.appendChild(counter);
                }
                
                let count = parseInt(counter.textContent) || 0;
                count++;
                counter.textContent = count;
                counter.style.display = 'flex';
            }
            
            debounce(func, wait) {
                let timeout;
                return function executedFunction(...args) {
                    const later = () => {
                        clearTimeout(timeout);
                        func(...args);
                    };
                    clearTimeout(timeout);
                    timeout = setTimeout(later, wait);
                };
            }
        }
        
        // Inicializar sistema
        document.addEventListener('DOMContentLoaded', () => {
            const appliancesSearch = new AppliancesSearchSystem();
            window.appliancesSearch = appliancesSearch;
        });
    </script>

    <!-- Estilos mejorados para el buscador principal -->
    <style>
        /* Buscador principal mejorado */
        .offers-search-container {
            max-width: 900px;
            margin: 2rem auto 1.5rem;
        }
        
        .offers-search-box {
            display: flex;
            align-items: center;
            background: white;
            border: 3px solid #cf2e2e;
            border-radius: 16px;
            padding: 12px;
            margin-bottom: 1rem;
            transition: all 0.3s;
            box-shadow: 0 8px 25px rgba(207, 46, 46, 0.15);
        }
        
        .offers-search-box:focus-within {
            box-shadow: 0 12px 30px rgba(207, 46, 46, 0.25);
            transform: translateY(-2px);
        }
        
        .offers-search-icon {
            color: #cf2e2e;
            margin: 0 16px;
            font-size: 28px;
        }
        
        .offers-search-input {
            flex: 1;
            border: none;
            outline: none;
            font-size: 18px;
            padding: 16px 0;
            color: var(--brand-black);
            font-weight: 500;
        }
        
        .offers-search-input::placeholder {
            color: #94a3b8;
            font-weight: 400;
        }
        
        .offers-search-button {
            background: #cf2e2e;
            color: white;
            border: none;
            border-radius: 12px;
            padding: 16px 24px;
            cursor: pointer;
            transition: background 0.3s, transform 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            margin-left: 8px;
        }
        
        .offers-search-button:hover {
            background: #b91c1c;
            transform: scale(1.05);
        }
        
        /* Sugerencias de búsqueda */
        .search-suggestions {
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 1.5rem;
            padding: 12px 0;
        }
        
        .search-suggestion-label {
            font-size: 14px;
            color: #64748b;
            font-weight: 500;
        }
        
        .search-suggestion {
            background: #fee;
            border: 1px solid #fcc;
            border-radius: 20px;
            padding: 8px 16px;
            font-size: 14px;
            color: #cf2e2e;
            cursor: pointer;
            transition: all 0.2s;
            font-weight: 500;
        }
        
        .search-suggestion:hover {
            background: #fdd;
            transform: translateY(-2px);
        }
        
        /* Especificaciones de producto */
        .product-specs {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin: 8px 0 12px;
        }
        
        .product-spec {
            display: flex;
            align-items: center;
            gap: 4px;
            font-size: 10px;
            color: #ffffff;
            background: var(--brand-red);
            padding: 4px 8px;
            border-radius: 10px;
            white-space: nowrap;
        }
        
        .product-spec .material-symbols-outlined {
            font-size: 11px;
            color: #ffffff;
        }
        
        /* Especificaciones con colores según categoría */
        .product-spec[data-efficiency="A+++"] {
            background: linear-gradient(135deg, #059669, #10b981);
        }
        
        .product-spec[data-efficiency="A++"] {
            background: linear-gradient(135deg, #10b981, #34d399);
        }
        
        .product-spec[data-efficiency="A+"] {
            background: linear-gradient(135deg, #34d399, #6ee7b7);
        }
        
        /* Información de eficiencia */
        .efficiency-info {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .efficiency-info.show {
            opacity: 1;
        }
        
        .efficiency-content {
            background: white;
            padding: 32px;
            border-radius: 16px;
            max-width: 500px;
            text-align: center;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
        }
        
        .efficiency-content .material-symbols-outlined {
            font-size: 48px;
            color: #10b981;
            margin-bottom: 20px;
        }
        
        .efficiency-content h4 {
            color: #1f2937;
            margin-bottom: 16px;
            font-size: 24px;
        }
        
        .efficiency-content p {
            color: #6b7280;
            margin-bottom: 24px;
            line-height: 1.6;
        }
        
        .efficiency-features {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
            margin-bottom: 24px;
        }
        
        .efficiency-feature {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            padding: 12px;
            background: #f0fdf4;
            border-radius: 8px;
        }
        
        .efficiency-feature .material-symbols-outlined {
            font-size: 24px;
            color: #10b981;
            margin-bottom: 0;
        }
        
        .efficiency-feature span:last-child {
            font-size: 12px;
            color: #059669;
            font-weight: 500;
        }
        
        .close-efficiency {
            background: #cf2e2e;
            color: white;
            border: none;
            padding: 12px 32px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: background 0.3s;
        }
        
        .close-efficiency:hover {
            background: #b91c1c;
        }
        
        /* Información últimos modelos */
        .latest-info {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .latest-info.show {
            opacity: 1;
        }
        
        .latest-content {
            background: white;
            padding: 32px;
            border-radius: 16px;
            max-width: 500px;
            text-align: center;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
        }
        
        .latest-content .material-symbols-outlined {
            font-size: 48px;
            color: #cf2e2e;
            margin-bottom: 20px;
        }
        
        .latest-content h4 {
            color: #1f2937;
            margin-bottom: 16px;
            font-size: 24px;
        }
        
        .latest-content p {
            color: #6b7280;
            margin-bottom: 24px;
            line-height: 1.6;
        }
        
        .latest-features {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
            margin-bottom: 24px;
        }
        
        .latest-feature {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            padding: 12px;
            background: #fee;
            border-radius: 8px;
        }
        
        .latest-feature .material-symbols-outlined {
            font-size: 24px;
            color: #cf2e2e;
            margin-bottom: 0;
        }
        
        .latest-feature span:last-child {
            font-size: 12px;
            color: #b91c1c;
            font-weight: 500;
        }
        
        .close-latest {
            background: #cf2e2e;
            color: white;
            border: none;
            padding: 12px 32px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: background 0.3s;
        }
        
        .close-latest:hover {
            background: #b91c1c;
        }
        
        /* Contador del carrito */
        .cart-counter {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #cf2e2e;
            color: white;
            font-size: 10px;
            font-weight: bold;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            display: none;
            align-items: center;
            justify-content: center;
        }
        
        /* Notificaciones de carrito */
        .cart-notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: white;
            color: #1f2937;
            padding: 16px;
            border-radius: 12px;
            display: flex;
            align-items: flex-start;
            gap: 12px;
            z-index: 1000;
            transform: translateX(100%);
            opacity: 0;
            transition: transform 0.3s, opacity 0.3s;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
            max-width: 320px;
            border-left: 4px solid #cf2e2e;
        }
        
        .cart-notification.show {
            transform: translateX(0);
            opacity: 1;
        }
        
        .cart-notification .material-symbols-outlined {
            color: #059669;
            font-size: 24px;
        }
        
        .cart-notification strong {
            display: block;
            margin-bottom: 4px;
        }
        
        .cart-notification p {
            margin: 4px 0;
            font-weight: 500;
        }
        
        .cart-notification small {
            color: #6b7280;
            font-size: 12px;
            display: block;
            margin-top: 4px;
        }
        
        /* Notificaciones de búsqueda */
        .search-notification {
            position: fixed;
            top: 100px;
            right: 20px;
            background: white;
            border-left: 4px solid #cf2e2e;
            padding: 16px 20px;
            border-radius: 8px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            gap: 12px;
            z-index: 1000;
            transform: translateX(120%);
            transition: transform 0.3s ease-out;
            max-width: 350px;
        }
        
        .search-notification.show {
            transform: translateX(0);
        }
        
        .search-notification .material-symbols-outlined {
            color: #cf2e2e;
        }
        
        /* Icono en no resultados */
        .no-results-content .material-symbols-outlined {
            font-size: 64px;
            color: #cf2e2e;
            margin-bottom: 1rem;
        }
        
        /* Etiqueta de instalación en precios */
        .product-price-wrapper::after {
            content: "✓ Incluye instalación profesional";
            display: block;
            font-size: 11px;
            color: #10b981;
            margin-top: 4px;
            font-weight: 500;
        }
        
        /* Estilos para el botón de catálogo */
        .offers-catalog-button {
            background: white;
            color: #cf2e2e;
            border: 2px solid #cf2e2e;
        }
        
        .offers-catalog-button:hover {
            background: #cf2e2e;
            color: white;
        }
        
        /* Responsive para el buscador */
        @media (max-width: 768px) {
            .offers-search-box {
                padding: 8px;
            }
            
            .offers-search-input {
                font-size: 16px;
                padding: 12px 0;
            }
            
            .offers-search-icon {
                font-size: 24px;
                margin: 0 12px;
            }
            
            .offers-search-button {
                padding: 12px 16px;
            }
            
            .search-suggestions {
                flex-direction: column;
                align-items: flex-start;
                gap: 8px;
            }
            
            .search-suggestion-label {
                margin-bottom: 8px;
            }
        }
        
        @media (max-width: 640px) {
            .offers-search-box {
                flex-direction: column;
                gap: 12px;
            }
            
            .offers-search-input {
                width: 100%;
                text-align: center;
            }
            
            .offers-search-button {
                width: 100%;
                margin-left: 0;
            }
        }
    </style>
</body>
</html>